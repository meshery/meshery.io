<section>
    <div class="container flex">
        <div class="text ">
            <h2 class="feature-title">Platform Engineering with Meshery's <span class="special-text"> Extension Points</span></h2>
            <p>Meshery includes both REST APIs and GraphQL APIs, pluggable adapters via gRPCs, hot-loadable ReactJS and hot-loadable Golang binaries. The great number of <a style="width:auto;" href="https://docs.meshery.io/extensibility">extension points</a> in Meshery make it ideal as the foundation of your internal developer platform.
            
            <div class="button-para">
                <a href="https://docs.meshery.io/project/contributing/contributing-models#instructions-for-creating-a-new-model" class="highlight">Example: Create your own model</a>
            </div>
            </p>

        </div>
        <div class="image flex">
            <a style="width: auto;" href="{{ features.imageURL }}" data-fancybox="images"
                data-caption='Meshery includes both REST APIs and GraphQL APIs, pluggable adapters via gRPCs, hot-loadable ReactJS and hot-loadable Golang binaries. The great number of <a style="width:auto; href="https://docs.meshery.io/extensibility">extension points</a> in Meshery make it ideal as the foundation of your internal developer platform.'>
                <img src="/assets/images/features/meshery-platform-engineering.webp" style="max-width:100%" alt="Meshery the Internal Developer Platform"
                    loading="lazy" class="screenshot"/>
            </a>
        </div>
    </div>
</section>

<section style="display:block;margin-top:3rem;margin-bottom:0rem;padding-bottom:0rem;">
    <div class="container flex" style="align-items: normal;"  >
        <div class="text" style="padding: 0 20px 20px 0;">

            <h2 class="feature-title"><span class="special-text">Visually</span> and <span class="special-text">collaboratively</span> manage your infrastructure</h2>
            <p>Meshery uses context-aware <a href="https://docs.meshery.io/concepts/logical/relationships">relationships</a> to define how and when components interrelate with one another. Meshery supports a variety of relationships between components. These relationships are categorized into two types: semantic and non-semantic. 
                <div class="button-para">
                    <a href="https://docs.meshery.io/concepts/logical/relationships#types-of-relationships" class="highlight">See more examples</a>
                </div>
            </p>
        </div>
        <div class="tab-container" >
        <div class="tab">
            <button class="tablinks active" onclick="openTab(event, 'edge')">Edge</button>
            <button class="tablinks" onclick="openTab(event, 'hierarchical')">Hierarchical</button>
            <button class="tablinks" onclick="openTab(event, 'sibling')">Sibling</button>
          </div>
          <div id="carousel">
            {% include partials/relationships.html %}
            </div>
        
        </div>
    </div>
</section>

<section style="margin-top: 0rem;padding-top: 0rem;">
    <div class="container flex">
        <div class="text ">

            <h2 class="feature-title"><span class="special-text">Multi-cluster management</span> for Kubernetes and Clouds</h2>
            <p>Span domains. Perform multi-cluster operations from a central console.</p>
            <div class="button-para">
                <a href="https://docs.meshery.io/guides/configuration-management" class="highlight">View Docs</a>
            </div>
        </div>
        <div class="image flex" style="flex-flow: column wrap;">
            <div align="center" style="margin-top: 3rem;">
                <div style="display: flex;">
                    <img src="/assets/images/screens/multi-cluster-management.gif" class="screenshot" style="max-height: 50vh;"
                        alt="Multi-cluster Kubernetes Manager" loading="lazy" />
                    <span>
                <!-- <p style="font-size: 1rem;margin:0rem;padding:0rem;color:#666;font-style: italic;">(excerpt: patterns
                            in-action)</p> -->
                </div>
                
            </div>
        </div>
    </div>
</section>



<section>
    <div class="container flex">
        <div class="text ">
            <h2 class="feature-title"><span class="special-text">Workspaces</span>: Your team's Google Drive for cloud native projects</h2>
            <p>Workspaces let you organize your work and serve as the central point of collaboration for you and your teams and point of access control to Environments and their resources.</p>
            <div class="button-para">
                <a href="https://docs.meshery.io/concepts/logical/workspaces" class="highlight">Learn about Workspaces</a>
            </div>
        </div>
        <div class="image flex" style="flex-flow: column wrap;">
            <div align="center" style="margin-top: 3rem;">
                <div style="display: flex;">
                    <img src="/assets/images/features/workspace.gif" class="screenshot"
                        alt="Multi-cluster Kubernetes Manager" loading="lazy" />
                    <span>
                <!-- <p style="font-size: 1rem;margin:0rem;padding:0rem;color:#666;font-style: italic;">(excerpt: patterns
                            in-action)</p> -->
                </div>
                
            </div>
        </div>
    </div>
</section>

<section>
    <div class="container flex">
        <div class="text ">

            <h2 class="feature-title"><span class="special-text">Performance Profiles</span> with built-in load generator</h2>
<p>Create and reuse performance profiles for consistent characterization of the configuration of your infrastructure in context of how it performs.</p>
            <div class="button-para">
                <a href="https://docs.meshery.io/tasks/performance/managing-performance" class="highlight">View Docs</a>
            </div>
        </div>
        <div class="image flex" style="flex-flow: column wrap;">
            <div align="center" style="margin-top: 3rem;">
                <div style="display: flex;">
                    <img src="/assets/images/features/performance-metrics.gif" class="screenshot"
                    alt="Multi-cluster Kubernetes Manager" loading="lazy" />
                    <span>
                <!-- <p style="font-size: 1rem;margin:0rem;padding:0rem;color:#666;font-style: italic;">(excerpt: patterns
                            in-action)</p> -->
                </div>
                
            </div>
        </div>
    </div>
</section>

<section>
    <div class="container flex">
        <div class="text ">
            <h2 class="feature-title">Control all of your infrastructure with <span class="special-text">mesheryctl</span></h2>
            <p>Whether managing multiple Meshery deployments, importing designs, discoverying Kubernetes clusters, do so with ease using Meshery CLI in your terminal. <div class="button-para"><a href="https://docs.meshery.io/reference/mesheryctl/" class="highlight">View Docs</a></div></p>
        </div>
        <div class="image flex">
            <a style="width: 100%;" href="/assets/images/features/ctl/mesheryctl-system-update.jpeg" data-fancybox="images"
                data-caption="Webassembly based Envoy Filters" aria-label="Webassembly based Envoy Filters">
                <img src="/assets/images/features/ctl/mesheryctl-system-update.jpeg" class="screenshot" loading="lazy" alt="Webassembly based Envoy Filter image" />
            </a>
        </div>
    </div>
</section>


<!-- <section>
    <div class="container flex">
        <div class="text ">
            <img src="{{ features.logo }}" style="max-width:30%;position:relative;float:left;
                    margin-right:20px;margin-bottom: 10px;" alt="Unified policy engine" loading="lazy" />
            <h2 class="feature-title">{{ features.title }}</h2>
            <p>{{ features.description }}</p>
        </div>
        <div class="image flex">
            <a style="width: auto;" href="{{ features.image }}" data-fancybox="images">
                <img src="{{ features.image }}" alt="{{ features.imageDescription }}" class="screenshot"
                    loading="lazy" />
            </a>
        </div>
    </div>
</section> -->

<section>
    <div class="container flex">
        <div class="text ">
            <div style="display: flex;">
                <img src="/assets/images/patterns/service-mesh-patterns-side-white.png" data-logo-for-light="/assets/images/patterns/service-mesh-patterns-side.svg"
                    data-logo-for-dark="/assets/images/patterns/service-mesh-patterns-side-white.png" id="logo-dark-light"
                    alt="Cloud native design patterns" style="height: 4rem;" loading="lazy" />
                <span>
            </div>
            <h2 class="feature-title">Access the <span class="special-text">Cloud Native Patterns</span> for Kubernetes</h2>
            <p>Design and manage all of your cloud native infrastructure using the design configurator in Meshery or start from a template using the patterns from the catalog.
            <div class="button-para">
                <a href="/catalog" class="highlight">View Complete Catalog</a>
            </div>
            </p>
        </div>
        <div class="image flex" style="flex-flow: column wrap;">
                {% include meshery-catalog.html %}
        </div>
    </div>
</section>


<section>
    <div class="container flex">
        <div class="text ">
            <h2 class="feature-title">Manage the <span class="special-text">performance</span> of your infrastructure and its workloads</h2>
            <ul style="line-height: 1.5em;height: auto;text-align: left; color: var(--color-secondary-light)">
                <li>Use performance profiles to track the historical performance of your workloads.</li>
                <li>Track your application performance from version to version.</li>
                <li>Understand behavioral differences between cloud native network functions.</li>
                <li>Compare performance across infrastructure deployments.</li>
            </ul>
            </p>
        </div>
        <div class="image">
            <a href="https://raw.githubusercontent.com/meshery/meshery.io/master/assets/images/screens/meshery-performance.gif" data-fancybox="images" data-caption="Baseline and track your cloud native performance from release to release.">
                <img src="/assets/images/screens/meshery-performance.gif" alt="Microservices Performance Comparison" class="screenshot"
                    loading="lazy" />
            </a>
        </div>
    </div>
</section>

<section>
    <div class="container flex">
        <div class="text ">

            <h2 class="feature-title">Manage your resources with <span class="special-text">Environments</span></h2>
            <p> Environments make it easier for you to manage, share, and work with a collection of resources as a group, instead of dealing with all your connections and credentials on an individual basis.</p>
            <div class="button-para">
                <a href="https://docs.meshery.io/concepts/logical/environments" class="highlight">View Docs</a>
            </div>
        </div>
        <div class="image flex" style="flex-flow: column wrap;">
            <div align="center" style="margin-top: 3rem;">
                <div style="display: flex;">
                    <img src="/assets/images/features/environments.gif" class="screenshot"
                        alt="Multi-cluster Kubernetes Manager" loading="lazy" />
                    <span>
                <!-- <p style="font-size: 1rem;margin:0rem;padding:0rem;color:#666;font-style: italic;">(excerpt: patterns
                            in-action)</p> -->
                </div>
                
            </div>
        </div>
    </div>
</section>


<section>
    <div class="container flex">
        <div class="text ">
            <h2 class="feature-title">{{ features.title }}</h2>
            <p>{{ features.description }}</p>
        </div>
        <div class="image flex">
            <a style="width: auto;" href="{{ features.imageURL }}" data-fancybox="images"
                data-caption="{{ features.imageDescription }}">
                <img src="{{ features.image }}" style="max-width:100%" alt="{{ features.imageDescription }}"
                    loading="lazy" class="screenshot"/>
            </a>
        </div>
    </div>
</section>


<script>
    window.onload = function() {
    document.querySelector('.tab button.active').click();
};
    let timeOutId;
    function openTab(evt, relationshipType) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        evt.currentTarget.className += " active";
       // document.getElementById(relationshipType).style.display = "block";
       clearTimeout(timeOutId);
        displayRelationships(relationshipType)
        
      }
      function displayRelationships(relationships) {
    
        let index = 0;
        displayImages();
        function displayImages() {
            let i;
            const images = document.getElementsByClassName(`${relationships}`);
            for (i = 0; i < images.length; i++) {
                images[i].style.display = "none";
            }
            index++;
            if (index > images.length) {
                index = 1;
            }
            images[index-1].style.display = "block";
            timeOutId = setTimeout(displayImages, 3000); 
        }
      }
    </script>
    <style>
     h2.feature-title {
        text-align: left;
     }    
    .tab {
        display: flex;
        flex-direction: row;
        align-self: center;
        justify-content: space-between;
        width: 70%;
    box-shadow: var(--box-shadow-primary) !important;
    border-radius: .5rem;
    padding: .5rem 1.5rem;
        & button {
            padding: .5em;
            color:var(--color-secondary-dark);

            &:hover{ 
            background-color: #00d3a9;
            color: white !important;
            border-radius: .5rem;
        }
        }

    }
    .feature-section {
        max-height: 300px;
    }
    .tab-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      justify-items: center;
      flex-basis: 40%;
      height: 22rem;
      width: 100%;
      margin: auto 1rem auto auto;
    }

    #carousel {
        position: relative;
        width: 100%;
        height: 100%;
    }

    .tabcontent img {
        max-width: 100%;
        max-height: 100%;
        position: absolute;
    }
    .tabcontent img.active {
        display: block;
    }
    .tabcontent figcaption {
        display: none;
    }
    </style>
