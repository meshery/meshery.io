<div class="integrations-heading" style="padding: 1rem;">
    <h1 id="integration-heading"></h1>
    <h2>
        Support for your Cloud Native Infrastructure and Apps
    </h2>
    <p style="margin:auto 10vw;">
        Meshery seamlessly integrates with every CNCF project, your existing tools and Kubernetes clusters, allowing you to enhance use your preferred monitoring, CI/CD, and security solutions. 
    </p><p style="margin:2vw 10vw 0vw 10vw;">
        Meshery's Kubernetes-native approach means you can easily incorporate Meshery into your existing workflow without additional setup or integration effort.
      </p>
    </div>
    <div id="integContainer" class="integrations-container container" style="column-gap:max(2vh,2vw);row-gap:1.5rem"></div>
    </div>
      <div class="integrations-3d-link">
        <a class="highlight" href="/integrations" style="display: block; margin: max(3vh,3vw) auto 0; width: fit-content;">See All Integrations</a>
    </div>

<script type="module">
// integrations.js
import data from '../../integrations/data.js';

const integHeading = document.getElementById("integration-heading");
const roundedIntegNumber = Math.floor(data.length / 10) * 10;
integHeading.textContent = `${roundedIntegNumber}+ Built-In Integrations`;

const integContainer = document.getElementById("integContainer");

function renderIntegrationCards(data) {
    const limitedData = data.slice(0, 30);

    return limitedData.map(item => {
        const urlFromJSON = item.color.split('/integration');
        
        return `
            <div class="integrations-card">
                <div class="integrations-card-inner">
                    <div class="card-front">
                        <img src="${urlFromJSON[0]}${urlFromJSON[1]}" loading="lazy" id="logo-dark-light"
                            data-logo-for-dark="${urlFromJSON[0]}${urlFromJSON[1]}"
                            data-logo-for-light="${urlFromJSON[0]}${urlFromJSON[1]}" />
                    </div>
                    <div class="card-back">
                        ${item.name}
                    </div>
                </div>
            </div>`;
    }).join('');
}


integContainer.innerHTML = renderIntegrationCards(data);
</script>
